name: 'Setup'
description: 'Setup Project with Gradle and Java'


inputs:
  GOOGLE_SERVICES_JSON:
    description: 'google-services.json encoded in Base64'
    required: true


runs:
  using: 'composite'
  steps:
    - name: Set up JDK
      uses: actions/setup-java@v5
      with:
        java-version: '21'
        distribution: 'temurin'
        cache: 'gradle'

    - name: Set up Gradle
      uses: gradle/actions/setup-gradle@v5

    - name: Create Google Services JSON File
      shell: bash
      env:
        GOOGLE_SERVICES_JSON: ${{ inputs.GOOGLE_SERVICES_JSON }}
      run: echo $GOOGLE_SERVICES_JSON | base64 -di > ./Skeddly/app/google-services.json
